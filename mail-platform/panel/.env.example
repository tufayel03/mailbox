NODE_ENV=production
PANEL_HOST=127.0.0.1
PANEL_PORT=3101
SESSION_SECRET=replace-with-long-random-secret
# set TRUST_PROXY=true when panel sits behind HTTPS reverse proxy
TRUST_PROXY=true
SESSION_COOKIE_NAME=mailpanel.sid
# set to true only when panel is served over HTTPS
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=lax
SESSION_COOKIE_MAX_AGE_MS=28800000
VIEW_CACHE=true
STATIC_MAX_AGE=1h

DATABASE_URL=postgres://mailpanel:change-this@127.0.0.1:5432/mailpanel
PGSSLMODE=disable

ADMIN_USER=admin
ADMIN_PASSWORD=change-me-now

MAIL_HOSTNAME=mail.mailhost.com
# Optional: domain-aware host pattern for DNS generation/check.
# Example: MAIL_HOSTNAME_TEMPLATE=mail.{domain}
# This makes matlance.com use mail.matlance.com, bidnsteal.com use mail.bidnsteal.com.
MAIL_HOSTNAME_TEMPLATE=
MAIL_SERVER_IPV4=
MAIL_SERVER_IPV6=

MAIL_DB_URL=postgres://mailpanel:change-this@127.0.0.1:5432/mailpanel
MAIL_DB_SSLMODE=disable

DOMAIN_ALIAS_LIMIT=400
DOMAIN_MAILBOX_LIMIT=50
DOMAIN_DEFQUOTA_MB=3072
DOMAIN_MAXQUOTA_MB=10240
DOMAIN_TOTAL_QUOTA_MB=51200

DKIM_SELECTOR=mail
DKIM_KEYS_DIR=.runtime/dkim
DKIM_SELECTOR_MAP=.runtime/dkim_selectors.map
RSPAMD_RELOAD_CMD=sudo -n /bin/systemctl reload rspamd
SKIP_RSPAMD_RELOAD=false

# Relay apply commands used by Security -> SMTP Relay Settings
RELAY_CONFIG_SCRIPT=../configure-relayhost.sh
RELAY_APPLY_CMD=sudo -n
RELAY_FLUSH_CMD=sudo -n /usr/sbin/postqueue -f
# Optional dedicated encryption key for relay credentials; defaults to SESSION_SECRET
RELAY_ENCRYPTION_KEY=

# Optional mailbox stats/purge command templates.
# Available placeholders: {{EMAIL}} {{DOMAIN}} {{LOCAL_PART}} {{MAILDIR}}
# If left blank, panel uses filesystem access under MAIL_STORAGE_BASE.
MAIL_STORAGE_BASE=/var/mail/vhosts
MAILBOX_STATS_CMD=sudo -n /bin/bash ./mailbox-stats.sh {{EMAIL}}
MAILBOX_STATS_TIMEOUT_MS=15000
MAILBOX_PURGE_CMD=sudo -n /bin/bash ./mailbox-purge.sh {{EMAIL}}
MAILBOX_PURGE_TIMEOUT_MS=30000

RATE_WORKER_INTERVAL_MS=60000
RATE_WINDOW_DAYS=7
ENABLE_FILE_LOG_INGEST=true
ENABLE_JOURNAL_LOG_INGEST=false
RSPAMD_LOG_PATH=/var/log/rspamd/rspamd.log
RSPAMD_LOG_TAIL_LINES=1000
RSPAMD_JOURNAL_SINCE=-2 min

# DNS resolvers used by Domain -> Check DNS (avoids stale local resolver cache)
DNS_CHECK_SERVERS=1.1.1.1,8.8.8.8
